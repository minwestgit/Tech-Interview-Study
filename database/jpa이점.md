## JPA 영속성 컨텍스트의 이점
### 1차 캐시
- 영속성 컨텍스트는 내부에 캐시를 가지고 있음
- 영속 상태의 엔티티는 모두 이곳에 저장
- 1차 캐시의 키는 식별자 값. 식별자 값과 데이터베이스 기본 키 매핑
- em.find()는 우선 1차 캐시에서 식별자 값으로 엔티티를 찾고 없으면 DB에서 찾음.

### 동일성 보장
- 같은 트랜잭션 안에서 같은 엔티티 반환 - 약간의 조회 성능 향상(SQL 1번만 실행) 
- 영속성 컨텍스트(1차 캐시)에서 관리되는 엔티티 반환시 동일성 보장

### 트랜잭션을 지원하는 쓰기 지연
- 트랜잭션 커밋 전까지 SQL을 쓰기 지연 저장소에 모음. (트랜잭션을 커밋할 때 까지 INSERT SQL 모음)
- 커밋하는 순간 SQL 전송. (JDBC BATCH SQL 기능을 사용해 한번에 SQL 전송)

### 변경 감지
- Update 없음. 변경 감지해 자동 반영.
- 스냅샷과 엔티티를 비교해 update sql 생성해 쓰기 지연 저장소에 저장

### 지연 로딩
- 객체가 실제 사용될 때 로딩
